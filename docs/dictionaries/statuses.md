# Статусы

Любая сущность, у которой есть статус, должна иметь поле `status_id`? реализовывать
интерфейс `App/Interfaces/Statusable` и описывать соответствующие методы.

Для удобства есть Trait `App/Traits/HasStatus`, описывающий общий функционал.

Устанавливать статус для сущности необходимо через метод `setStatus`, который принимает в качестве аргумента id статуса
или существующий статус, соответствцющий этой сущности. В случае попытки установить несуществующий статус выдаётся
ошибка, описанная для конкретной сущности и наследующая `App/Exceptions/Base/WrongStatusException`.

Для проверки статуса возможно использовать метод `hasStatus`, который проверяет на совпадение статуса сущности с
переданным в качестве аргумента id проверяемого статуса или существующим статусом.

## Статусы пользователя:

Статусы пользователя (UserStatus) - системный справочник. Каждый пользователь (User) должен иметь один статус.

Константы:

* `UserStatus::blocked` - пользователь заблокирован, доступ в систему закрыт
* `UserStatus::active` - пользователь активен

Поля:

* `id` - идентификатор статуса
* `name` - отображаемое название статуса

Справочник является системным и не подлежит изменению со стороны любого пользователя. Изменяется только на системном
уровне.

Класс для заполнения справочника - `Database\Seeders\Dictionaries\StatusesSeeder`

## Статусы должности:

Статусы должности (PositionStatus) - системный справочник. Каждая должность (PartnerUserPosition) должена иметь один
статус.

Константы:

* `PositionStatus::blocked` - должность заблокирована, доступ пользователя в организацию-партнёра закрыт
* `PositionStatus::active` - должность активена

Поля:

* `id` - идентификатор статуса
* `name` - отображаемое название статуса

Справочник является системным и не подлежит изменению со стороны любого пользователя. Изменяется только на системном
уровне.

Класс для заполнения справочника - `Database\Seeders\Dictionaries\StatusesSeeder`

## Статусы партнёра:

Статусы пользователя (PartnerStatus) - системный справочник. Каждая организайия-партнёр (Partner) должена иметь один
статус.

Константы:

* `PartnerStatus::blocked` - организайия-партнёр заблокирована, доступ всех пользователей в эту организацию закрыт
* `PartnerStatus::active` - организайия-партнёр активена

Поля:

* `id` - идентификатор статуса
* `name` - отображаемое название статуса

Справочник является системным и не подлежит изменению со стороны любого пользователя. Изменяется только на системном
уровне.

Класс для заполнения справочника - `Database\Seeders\Dictionaries\StatusesSeeder`
