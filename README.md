# Алые паруса

https://my-dev.life-pos.ru/auth/login
lozovoyv Password123

https://home.life-pay.ru/
vl@site-master.su Gematoma1989

Личный кабинет LIFE PAY с тестовой ОФ
https://my.life-pay.ru/cloudPrint
Логин 76213133893 Пароль 123456 Ключ 379b9878cf4973699a7aea7d37562a3f

Документация
https://apidoc.life-pay.ru/cloud-print/

## Долги / ToDo

* ОБНОВИТЬ СТРУКТУРУ ДАННЫХ!!!!!!!

* встроить toaster для form, list, data

* not found для страниц редактирования и карточек

* урл файлов в карточке партнёра, защита роута
* исправить отображение тарифов в админке партнёра как в экскурсии
* исправить отображение тарифов в кабинете партнёра - только текущие

## QUESTIONS / PROBABLY TODO

Проработка реестров:
проверить UserAsRepresentativesDictionary

Билеты для гидов (настройка у партнёра)
Настройка - Ограничивать количество билетов в 1 заказе вместимостью теплохода (остатком мест) ???

### Форма входа:

* доработка интерфейса (20-30)
* обновление компонентов (20)
* отображение сообщений об ошибках (20-30)

### Админка:

* рейсы
    * доработать подсчёт билетов рейса (по статусам) (60-90)
* справочники
    * доработать разрешения на просмотр (40)
* мобильные кассы
    * добавить операции (30-50)
    * доработать интерфейс списка мобильных касс (90-120)
* партнёры
    * добавить права на просмотр прикреплённых документов (30)
    * лицевой счёт - сумма продаж, начислено комиссионных, ...
* настройки
    * обновить компоненты (10)

* возврат билетов/заказов, купленных на сайте ???

### Кабинет партнёра:

* карточка партнёра
    * обновить компоненты лицевого счёта (40)
* лицевой счёт
    * обновить компоненты лицевого счёта (40)
    * исправить даты при пополнении лицевого счёта (10)
    * добавить ссылки на билеты, заказы в лицевом счёте (40)
* подбор билетов
    * попап с информацией о экскурсии, причале (60)
* оформление заказа
    * разделить билеты по датам визуально (40)
    * очистить заказ (20)
* настройки и коды
    * страница с кодами (30-60)
* тарифы
    * доработать тарифы - отображать только текущий тариф (60)
    * обновить компоненты (20)

### Реестры (админка + кабинет партнёра)

* сортировки (исправить)
* заказы
    * формирование PDF заказа (60-90) - уточнить, надо ли
    * отправка заказа по email (админ + партнёр) (30-60)
    * редактирование тнформации о плательщике
* билеты
    * формирование PDF билета (60-90)
    * инфо о возврате (данные + отображение) (30-40)
    * страница билета - убрать лишнее
    * вынести инфо о возврате в другую таблицу

### Мобильные кассы (кабинет кассира)

* оформление заказа
    * печать билетов (30-50)
    * очистить заказ (20)
* возврат билетов
    * -- возврат средств (касса) (90-240) - нужно уточнить по возврату средств на карту

### Настройки задач по расписанию

* смена статусов рейсов (20)
* отмена истёкших броней (40)
* отмена билетов и заказов со статусом "ожидает оплаты" (30)
* удаление отменённых заказов и билетов без оплаты через 1-2-3 дня (30)

### Оптимизация и нагрузочное тестирование

* заполнение тестовыми данными (120-180)
    * рейсы
    * заказы + билеты
    * оплаты
    * выплаты коммиссий партнёрам
* тестирование (60-180)

### Витрина

* приложение "витрина"
    * отображение финала
* оплата
    * -- интеграция (60-180)
    * -- приём данных об оплате, чек (30-60)
    * отправка заказа на email (20)
    * -- перенаправление после успеха (20-60)
    * -- обработка крайних случаев (20-90)
